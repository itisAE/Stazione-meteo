<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your API Token - Weather Station ITIS</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            background-color: #f8f9fa;
            color: #333;
        }
        
        .container {
            max-width: 700px;
            margin: 20px auto;
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        
        .header {
            background: linear-gradient(135deg, #0d6efd 0%, #6f42c1 100%);
            color: white;
            padding: 40px 30px;
            text-align: center;
        }
        
        .header h1 {
            margin: 0;
            font-size: 1.8em;
            font-weight: 300;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }
        
        .header p {
            margin: 15px 0 0 0;
            opacity: 0.9;
            font-style: italic;
        }
        
        .content {
            padding: 40px 30px;
        }
        
        .token-box {
            background: #f8f9fa;
            border: 2px dashed #0d6efd;
            border-radius: 10px;
            padding: 25px;
            margin: 25px 0;
            text-align: center;
        }
        
        .token-box h3 {
            color: #6f42c1;
            margin-top: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .token {
            background: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            word-break: break-all;
            margin: 15px 0;
            position: relative;
        }
        
        .token::before {
            content: 'API TOKEN';
            position: absolute;
            top: 5px;
            right: 10px;
            background: #0d6efd;
            color: white;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 10px;
            font-weight: bold;
        }
        
        .steps {
            background: #e3f2fd;
            border-left: 4px solid #0d6efd;
            padding: 25px;
            margin: 25px 0;
            border-radius: 0 8px 8px 0;
        }
        
        .step {
            margin: 20px 0;
            padding-left: 30px;
            position: relative;
        }
        
        .step::before {
            content: counter(step-counter);
            counter-increment: step-counter;
            position: absolute;
            left: 0;
            top: 2px;
            background: #0d6efd;
            color: white;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
        }
        
        .steps {
            counter-reset: step-counter;
        }
        
        .code-example {
            background: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            margin: 15px 0;
            overflow-x: auto;
            position: relative;
        }
        
        .code-example::before {
            content: 'CODE';
            position: absolute;
            top: 10px;
            right: 15px;
            background: #6f42c1;
            color: white;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 10px;
            font-weight: bold;
        }
        
        .highlight {
            background: linear-gradient(135deg, #fff3cd, #ffeaa7);
            border: 1px solid #ffc107;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .highlight h4 {
            color: #856404;
            margin-top: 0;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .btn {
            display: inline-block;
            background: linear-gradient(135deg, #0d6efd, #6f42c1);
            color: white !important;
            padding: 12px 25px;
            text-decoration: none !important;
            border-radius: 8px;
            font-weight: 600;
            margin: 10px 8px;
            transition: all 0.3s ease;
            border: none;
            cursor: pointer;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(13, 110, 253, 0.3);
            color: white !important;
            text-decoration: none !important;
        }
        
        .btn:focus {
            outline: 2px solid #0d6efd;
            outline-offset: 2px;
        }
        
        .alert-warning {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            border-radius: 8px;
        }
        
        .alert-success {
            background: #d4edda;
            border-left: 4px solid #28a745;
            border-radius: 8px;
        }
        
        .contribution-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .contribution-item {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            border-left: 4px solid #0d6efd;
        }
        
        .contribution-item h5 {
            color: #0d6efd;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .support-section {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 10px;
            margin: 25px 0;
        }
        
        @media (max-width: 600px) {
            .container {
                margin: 0;
                border-radius: 0;
            }
            .content {
                padding: 25px 20px;
            }
            .header {
                padding: 30px 20px;
            }
            .btn {
                display: block;
                margin: 10px 0;
                text-align: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1><i class="fas fa-cloud-sun me-2"></i>Welcome to Meteorological Citizen Science!</h1>
            <p>ITIS Mario Delpozzo - Weather Station Project</p>
        </div>
        
        <div class="content">
            <p class="lead">Thank you for requesting access to our APIs! Your contribution is essential for improving weather forecasts through scientific collaboration.</p>
            
            <div class="alert alert-success">
                <i class="fas fa-check-circle me-2"></i><strong>Your API Token has been generated successfully!</strong>
            </div>
            
            <div class="token-box">
                <h3><i class="fas fa-key"></i>Your Personal API Token:</h3>
                <div class="token">
                    {{JWT_TOKEN}}
                </div>
                <p class="text-muted"><small><strong>Important:</strong> Keep this token secure. Do not share it publicly.</small></p>
            </div>
            
            <h2><i class="fas fa-rocket me-2"></i>Getting Started:</h2>
            
            <div class="steps">
                <div class="step">
                    <strong>Save your token</strong><br>
                    Copy the token above and store it securely in a file on your system.
                </div>
                
                <div class="step">
                    <strong>Calculate your sensor accuracy</strong><br>
                    Visit the calculator on our website to determine the correct accuracy percentage.
                </div>
                
                <div class="step">
                    <strong>Prepare your data</strong><br>
                    Organize your weather data in the required JSON format.
                </div>
                
                <div class="step">
                    <strong>Send data</strong><br>
                    Use the API endpoint to contribute your weather data.
                </div>
            </div>
            
            <h2><i class="fas fa-cloud me-2"></i>API Endpoint:</h2>
            <div class="code-example">
POST https://api.stazione-meteo.itis-delpozzo.it/weather-data
Content-Type: application/json
Authorization: Bearer {{JWT_TOKEN}}
            </div>
            
            <h2><i class="fas fa-code me-2"></i>Usage Example:</h2>
            
            <p>Here's a complete example of how to send weather data:</p>
            
            <div class="code-example">
curl -X POST https://api.stazione-meteo.itis-delpozzo.it/weather-data \
  -H "Authorization: Bearer {{JWT_TOKEN}}" \
  -H "Content-Type: application/json" \
  -d '{
  "timestamp": "2025-09-13T14:30:00Z",
  "location": {
    "latitude": 44.5675,
    "longitude": 7.4823,
    "altitude": 425
  },
  "data": {
    "temperature": {
      "value": 23.5,
      "accuracy": 95.0,
      "unit": "celsius"
    },
    "humidity": {
      "value": 68.2,
      "accuracy": 90.0,
      "unit": "percent"
    },
    "pressure": {
      "value": 1013.25,
      "accuracy": 98.5,
      "unit": "hPa"
    }
  },
  "sensor_info": {
    "model": "Davis Vantage Pro2",
    "firmware_version": "1.2.3"
  }
}'
            </div>
            
            <div class="highlight">
                <h4><i class="fas fa-exclamation-triangle"></i>Essential Parameters:</h4>
                <ul class="mb-0">
                    <li><strong>accuracy:</strong> Accuracy percentage for each sensor (use our calculator!)</li>
                    <li><strong>timestamp:</strong> Date and time in ISO 8601 UTC format</li>
                    <li><strong>unit:</strong> Unit of measurement (celsius, percent, hPa, km/h, degrees, mm)</li>
                    <li><strong>location:</strong> Precise coordinates of your station</li>
                </ul>
            </div>
            
            <h2><i class="fas fa-calculator me-2"></i>Accuracy Calculator:</h2>
            <p>To determine the correct accuracy percentage for your sensors, use our online calculator. Consider:</p>
            <ul>
                <li>Sensor model</li>
                <li>Precision declared by manufacturer</li>
                <li>Installation age</li>
                <li>Last calibration date</li>
                <li>Current environmental conditions</li>
            </ul>
            
            <div class="alert alert-warning">
                <i class="fas fa-clock me-2"></i><strong>Usage Limit:</strong> Your token allows up to 100 requests per hour. If you need a higher limit, contact us.
            </div>
            
            <h2><i class="fas fa-heart me-2"></i>Your Contribution Matters:</h2>
            <p>Every data point you send through the APIs contributes to:</p>
            
            <div class="contribution-grid">
                <div class="contribution-item">
                    <h5><i class="fas fa-clock text-primary"></i>Improved Nowcasting</h5>
                    <p>More accurate 2-3 hour forecasts</p>
                </div>
                
                <div class="contribution-item">
                    <h5><i class="fas fa-map-marker-alt text-success"></i>Local Resolution</h5>
                    <p>Micro-climatic scale data</p>
                </div>
                
                <div class="contribution-item">
                    <h5><i class="fas fa-brain text-info"></i>ML Validation</h5>
                    <p>Enhancement of predictive algorithms</p>
                </div>
                
                <div class="contribution-item">
                    <h5><i class="fas fa-network-wired text-warning"></i>Distributed Network</h5>
                    <p>Comprehensive weather coverage</p>
                </div>
            </div>
            
            <div class="text-center" style="margin: 30px 0;">
                <a href="http://localhost/" class="btn"><i class="fas fa-home me-2"></i>Visit Our Website</a>
                <a href="http://localhost/csp" class="btn"><i class="fas fa-calculator me-2"></i>Accuracy Calculator</a>
            </div>
            
            <div class="support-section">
                <h3><i class="fas fa-headset me-2"></i>Support:</h3>
                <p>If you have questions or problems:</p>
                <ul class="mb-0">
                    <li><strong><i class="fas fa-envelope me-2"></i>Email:</strong> api-support@itis-delpozzo.it</li>
                    <li><strong><i class="fas fa-book me-2"></i>Documentation:</strong> All details are available on our website</li>
                    <li><strong><i class="fab fa-github me-2"></i>GitHub:</strong> itisAE/Stazione-meteo for technical issues</li>
                </ul>
            </div>
            
            <div class="alert alert-success text-center">
                <h4><i class="fas fa-star me-2"></i>Thank you for being part of the meteorological revolution!</h4>
                <p class="mb-0">The meteorology of the future is a participatory science, and you are now part of this evolution.</p>
            </div>
            
            <div class="text-center text-muted mt-4">
                <p><strong>ITIS Mario Delpozzo</strong> - Weather Station Project<br>
                Citizen Science for the future of weather forecasting</p>
                <p><small>This token is valid for 1 year from the generation date. Do not share this token with third parties.</small></p>
            </div>
        </div>
    </div>
</body>
</html>